<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Y Brenin Cyfiawn</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #041026;
      --crt-bg: #001700;
      --phosphor: #00ff55;
      --muted: #7aa2c9;
      --mono: 'Orbitron', monospace;
      --ui: 'Inter', sans-serif;
      --crt-green: #00ff55;
      --crt-amber: #ffb000;
      --crt-ice:   #80f7ff;
      --crt-white: #d0ffe4;
    }

    * { box-sizing: border-box; margin:0; padding:0; }
    html, body { height:100%; font-family: var(--ui); background: var(--bg); color: var(--phosphor); display:flex; justify-content:center; align-items:center; }
    
    body.theme-green { --phosphor: var(--crt-green); }
    body.theme-amber { --phosphor: var(--crt-amber); }
    body.theme-ice   { --phosphor: var(--crt-ice); }
    body.theme-white { --phosphor: var(--crt-white); }

    .crt-monitor {
      width: min(1000px, 95%);
      max-width: 1100px;
      border-radius: 24px;
      padding: 20px;
      background: linear-gradient(180deg, #0a1a20 0%, #001700 100%);
      box-shadow: 0 12px 60px rgba(0,255,80,0.3);
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .crt-screen {
      position: relative;
      width: 100%;
      background: var(--crt-bg);
      border-radius: 16px;
      padding: 20px;
      box-shadow: inset 0 0 40px rgba(0,255,80,0.05);
      overflow: hidden;
    }

    .terminal {
      font-family: var(--mono);
      color: var(--phosphor);
      font-size: 14px;
      line-height: 1.4;
      min-height: 360px;
      position: relative;
    }

    .scanlines {
      position:absolute; inset:0;
      background: repeating-linear-gradient(
        to bottom,
        rgba(0,255,80,0.06) 0px,
        rgba(0,255,80,0.06) 2px,
        rgba(0,255,80,0) 4px
      );
      pointer-events:none;
      mix-blend-mode:overlay;
      z-index:20;
    }

    .vignette {
      position:absolute; inset:0;
      background: radial-gradient(1200px 600px at 50% 30%,
        rgba(0,0,0,0) 0%,
        rgba(0,0,0,0.18) 60%,
        rgba(0,0,0,0.7) 100%);
      border-radius: 16px;
      pointer-events:none;
      z-index:30;
    }

    .crt-refresh {
      position:absolute;
      top:-15%;
      height:18%;
      width:100%;
      background: linear-gradient(to bottom, rgba(0,255,80,0) 0%, rgba(0,255,80,0.25) 50%, rgba(0,255,80,0) 100%);
      animation: crtRefreshMove 3.7s linear infinite;
      pointer-events:none;
      z-index:40;
    }
    @keyframes crtRefreshMove {
      0% { top:-15%; }
      100% { top:115%; }
    }

    .crt-static {
      position:absolute;
      inset:0;
      pointer-events:none;
      opacity:0.1;
      background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA...");
      animation: staticShift .25s steps(4) infinite;
      z-index:50;
    }
    @keyframes staticShift {
      0%   {transform:translate(0,0);}
      25%  {transform:translate(-2px,1px);}
      50%  {transform:translate(1px,-1px);}
      75%  {transform:translate(-1px,2px);}
      100% {transform:translate(0,0);}
    }

    .boot-text {
      white-space: pre-wrap;
      height: 100%;
      overflow: auto;
    }
    .boot-line.ghost { color: rgba(0,255,80,0.28); }
    .boot-line.ok { color: rgba(160,255,190,0.95); }

    .crt-buttons {
      display:flex;
      justify-content:center;
      gap:8px;
      margin-top:14px;
      flex-wrap: wrap;
    }
    .crt-buttons button {
      background:#000;
      border:1px solid var(--phosphor);
      color: var(--phosphor);
      font-family: var(--mono);
      font-size:12px;
      padding:6px 12px;
      border-radius:4px;
      cursor:pointer;
      box-shadow:0 0 6px rgba(0,255,80,0.4);
      transition: 0.15s;
    }
    .crt-buttons button:hover {
      transform: translateY(-2px);
      box-shadow:0 0 12px rgba(0,255,80,0.6);
    }
  </style>
</head>
<body class="theme-green">
  <div class="crt-monitor">
    <div class="crt-screen">
      <div class="terminal" id="terminal">
        <div class="scanlines"></div>
        <div class="vignette"></div>
        <div class="crt-refresh"></div>
        <div class="crt-static"></div>
        <div id="bootArea" class="boot-text">
Welcome to Rhodri Fawr â€” Home of projects and playful code.

Type ENTER or press the POWER button below to open the dashboard.

Use "Projects" to browse experiment pages.
        </div>
      </div>
    </div>
    <div class="crt-buttons">
      <button id="powerBtn">POWER / ENTER</button>
      <button onclick="setCRTTheme('green')">GREEN</button>
      <button onclick="setCRTTheme('amber')">AMBER</button>
      <button onclick="setCRTTheme('ice')">ICE BLUE</button>
      <button onclick="setCRTTheme('white')">WHITE</button>
    </div>
  </div>

  <script>
    const bootArea = document.getElementById('bootArea');
    const powerBtn = document.getElementById('powerBtn');
    const target = "https://rhodrifawr-production.up.railway.app/";

    const bootLines = [
      "[BOOT] BIOS v2.91 (C) 1983 Rhodri Systems",
      "[OK] Power-on self-test... PASSED",
      "[OK] Memory check........ 8192KB",
      "[OK] VRAM check.......... PASSED",
      "[OK] I/O bus............. INITIALIZED",
      "",
      "[NET] Establishing uplink to remote host...",
      "[NET] Negotiating secure channel...",
      "[NET] Sending wake packet -> Railway",
      "[NET] Awaiting node heartbeat...",
      "[NET] Node responding. Waking services...",
      "",
      "[SYS] Finalizing session...",
      "[ACCESS GRANTED] Routing to dashboard..."
    ];

    function appendLine(text, cls) {
      const line = document.createElement('div');
      line.className = 'boot-line' + (cls ? ' ' + cls : '');
      line.textContent = text;
      bootArea.appendChild(line);
      bootArea.scrollTop = bootArea.scrollHeight;
    }

    powerBtn.addEventListener('click', async () => {
      bootArea.innerHTML = '';
      for(let i=0;i<bootLines.length;i++){
        appendLine(bootLines[i], bootLines[i].startsWith('[OK') ? 'ok':'');
        await new Promise(res=>setTimeout(res,200+Math.random()*200));
      }
      try { await fetch(target,{mode:'no-cors'}); } catch(e){}
      setTimeout(()=>{window.location.href=target;},700);
    });

    function setCRTTheme(mode){
      document.body.classList.remove('theme-green','theme-amber','theme-ice','theme-white');
      document.body.classList.add('theme-'+mode);
    }

    document.addEventListener('keydown',e=>{
      if(e.key==='Enter') powerBtn.click();
    });
  </script>
</body>
</html>
