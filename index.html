<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jenko â€” Terminal</title>

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@300;400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0a0a0a;
      --text:#00ff66;
      --muted:#0b3b20;
      --bezel:#0b0f0b;
      --glass:linear-gradient(180deg, rgba(0,0,0,.85), rgba(0,0,0,.95));
      --accent:rgba(0,255,102,.06);
    }

    html,body{
      height:100%;
      margin:0;
      background:
        radial-gradient(1200px 400px at 50% 10%, rgba(0,255,102,.02), transparent 8%),
        var(--bg);
      color:var(--text);
      font-family:'Source Code Pro', monospace;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px;
      box-sizing:border-box;
    }

    .monitor{
      width:min(1050px,96vw);
      background:var(--bezel);
      padding:18px;
      border-radius:14px;
      box-shadow:0 30px 80px rgba(0,0,0,.65);
    }

    .topbar{
      display:flex;
      gap:10px;
      margin-bottom:12px;
      padding-left:12px;
    }

    .dot{width:10px;height:10px;border-radius:50%;background:#ff5f56;}
    .dot.yellow{background:#ffbd2e;}
    .dot.green{background:#27c93f;}

    .terminal-wrap{
      background:var(--glass);
      border-radius:8px;
      padding:22px;
      min-height:60vh;
      overflow:auto;
      border:1px solid var(--accent);
    }

    .screen{
      white-space:pre;
      max-height:68vh;
      overflow:auto;
    }

    .ascii-logo{
      white-space:pre;
      line-height:1;
      letter-spacing:1px;
      margin:0 0 12px 0;
      text-shadow:0 0 10px rgba(0,255,102,.06);
    }

    .boot-cursor{
      display:inline-block;
      width:10px;
      height:16px;
      background:var(--text);
      margin-left:4px;
      animation:blink 1s steps(1) infinite;
      vertical-align:bottom;
    }

    .cursor{
      display:inline-block;
      width:10px;
      height:18px;
      background:var(--text);
      margin-left:2px;
      animation:blink 1s steps(1) infinite;
      vertical-align:bottom;
    }

    @keyframes blink{
      50%{opacity:0;}
    }

    .subtitle{
      color:var(--muted);
      font-size:12px;
      margin-bottom:10px;
    }

    .prompt-line{
      margin-top:12px;
      white-space:pre;
    }

    .prompt{
      white-space:pre;
    }

    .typed{
      white-space:pre;
    }

    .hint{
      color:#3adc99;
      opacity:.6;
      font-size:12px;
      margin-top:18px;
    }
  </style>
</head>
<body>

<div class="monitor">
  <div class="topbar">
    <div class="dot"></div>
    <div class="dot yellow"></div>
    <div class="dot green"></div>
  </div>

  <div class="terminal-wrap">
    <div class="screen">

<pre class="ascii-logo" id="ascii-logo"></pre>

<div class="subtitle">Welcome. Type commands below.</div>

<div class="prompt-line">
  <span class="prompt">guest@jenko:~$ </span><span class="typed" id="typed"></span><span class="cursor"></span>
</div>

<div class="hint">Press Enter to simulate command; Backspace to erase.</div>

    </div>
  </div>
</div>

<script>

const ascii = document.getElementById("ascii-logo");

const asciiFiles = [
  "ascii/logo1.txt",
  "ascii/logo2.txt",
  "ascii/logo3.txt"
];

const fallbackArt = `
   J E N K O
   ----------
   TERMINAL READY
`;

const randomFile = asciiFiles[Math.floor(Math.random() * asciiFiles.length)];

fetch(randomFile)
  .then(res => {
    if (!res.ok) throw new Error("Fetch failed");
    return res.text();
  })
  .then(text => {
    // ðŸš¨ Guard against HTML being returned
    if (text.trim().startsWith("<!DOCTYPE") || text.includes("<html")) {
      throw new Error("HTML returned instead of ASCII");
    }
    bootReveal(text);
  })
  .catch(err => {
    console.warn("ASCII load failed:", err.message);
    bootReveal(fallbackArt);
  });

function bootReveal(text){
  const lines = text.replace(/\n$/, "").split("\n");
  ascii.textContent = "";

  const cursor = document.createElement("span");
  cursor.className = "boot-cursor";
  ascii.appendChild(cursor);

  let i = 0;

  function revealLine(){
    if(i >= lines.length){
      cursor.remove();
      return;
    }

    const delay = i === 0 ? 300 : 80;
    cursor.remove();
    ascii.textContent += lines[i++] + "\n";
    ascii.appendChild(cursor);
    setTimeout(revealLine, delay);
  }

  revealLine();
}

let buffer = "";
const typed = document.getElementById("typed");

window.addEventListener("keydown", e=>{
  if(e.key === "Backspace"){
    e.preventDefault();
    buffer = buffer.slice(0,-1);
  }
  else if(e.key === "Enter"){
    e.preventDefault();
    buffer = "";
  }
  else if(e.key.length === 1){
    buffer += e.key;
  }

  typed.textContent = buffer;
});
</script>


</body>
</html>
